
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="http://pablocaro.es/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="http://pablocaro.es/theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="http://pablocaro.es/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="http://pablocaro.es/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="http://pablocaro.es/theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#333333">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#333333">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Microsoft EDGE -->
  <meta name="msapplication-TileColor" content="#333333">

  <link href="http://pablocaro.es/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="<span style="color:#AA1032;">Anotaciones</span> <span style="color:darkblue;">por</span> <span style="color:black">Pablo Caro</span> Atom">

  <link href="http://pablocaro.es/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="<span style="color:#AA1032;">Anotaciones</span> <span style="color:darkblue;">por</span> <span style="color:black">Pablo Caro</span> RSS">

<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60035125-1', 'auto');
  ga('send', 'pageview');
</script>






 

<meta name="author" content="Pablo Caro" />
<meta name="description" content="Los FileField en django necesitan ana función upload_to que determine donde se subirá el fichero. Yo suelo tener en utils.py una función genérica que los deja en una subcarpeta con el nombre del modelo. import os def generic_upload_to(instance, filename): &#34;&#34;&#34; Generic `upload_to` function for models.FileField and models.ImageField …" />
<meta name="keywords" content="django, python">


  <meta property="og:site_name" content="<span style="color:#AA1032;">Anotaciones</span> <span style="color:darkblue;">por</span> <span style="color:black">Pablo Caro</span>"/>
  <meta property="og:title" content="Función genérica para usar como upload_to"/>
  <meta property="og:description" content="Los FileField en django necesitan ana función upload_to que determine donde se subirá el fichero. Yo suelo tener en utils.py una función genérica que los deja en una subcarpeta con el nombre del modelo. import os def generic_upload_to(instance, filename): &#34;&#34;&#34; Generic `upload_to` function for models.FileField and models.ImageField …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="http://pablocaro.es/funcion-generica-para-usar-como-upload_to"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2014-10-11 11:02:00+02:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="http://pablocaro.es/author/pablo-caro.html">
  <meta property="article:section" content="Programación"/>
  <meta property="article:tag" content="django"/>
  <meta property="article:tag" content="python"/>
  <meta property="og:image" content="/images/profile.png">

  <title><span style="color:#AA1032;">Anotaciones</span> <span style="color:darkblue;">por</span> <span style="color:black">Pablo Caro</span> &ndash; Función genérica para usar como upload_to</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="http://pablocaro.es/">
      <img src="/images/profile.png" alt="Anotaciones" title="Anotaciones">
    </a>

    <h1>
      <a href="http://pablocaro.es/">Anotaciones</a>
    </h1>

    <p>Anotaciones</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_self" href="http://getpelican.com/" >Pelican</a>
          </li>
          <li>
            <a target="_self" href="http://python.org/" >Python.org</a>
          </li>
          <li>
            <a target="_self" href="http://jinja.pocoo.org/" >Jinja2</a>
          </li>
          <li>
            <a target="_self" href="#" >You can modify those links in your config file</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-Twitter"
           href="http://twitter.com/pcaro"
           target="_blank">
          <i class="fa-brands fa-Twitter"></i>
        </a>
      </li>
      <li>
        <a class="sc-Github"
           href="http://github.com/pcaro"
           target="_blank">
          <i class="fa-brands fa-Github"></i>
        </a>
      </li>
      <li>
        <a class="sc-Linkedin"
           href="https://www.linkedin.com/in/pcarorevuelta"
           target="_blank">
          <i class="fa-brands fa-Linkedin"></i>
        </a>
      </li>
      <li>
        <a class="sc-Facebook"
           href="https://www.facebook.com/pablo.carorevuelta"
           target="_blank">
          <i class="fa-brands fa-Facebook"></i>
        </a>
      </li>
      <li>
        <a class="sc-Email"
           href="mailto:correo@pablocaro.es"
           target="_blank">
          <i class="fa-brands fa-Email"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>

<nav>
  <a href="http://pablocaro.es/">Home</a>

  <a href="/archives.html">Archivo</a>
  <a href="/categories.html">Categorías</a>
  <a href="/tags.html">Etiquetas</a>

  <a href="http://pablocaro.es/feeds/all.atom.xml">Atom</a>

  <a href="http://pablocaro.es/feeds/all.rss.xml">RSS</a>
</nav>

<article class="single">
  <header>
      
    <h1 id="funcion-generica-para-usar-como-upload_to">Función genérica para usar como upload_to</h1>
    <p>
      Posted on Sat 11 October 2014 in <a href="http://pablocaro.es/category/programacion.html">Programación</a>

    </p>
  </header>


  <div>
    <p>Los FileField en django necesitan ana función <a class="reference external" href="https://docs.djangoproject.com/en/1.7/ref/models/fields/#django.db.models.FileField.upload_to">upload_to</a> que determine donde se subirá el fichero.
Yo suelo tener en <code>utils.py</code> una función genérica que los deja en una subcarpeta con el nombre del modelo.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="k">def</span> <span class="nf">generic_upload_to</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic `upload_to` function for models.FileField and models.ImageField</span>
<span class="sd">    which uploads files to `&lt;app_label&gt;/&lt;model_name&gt;/&lt;file_name&gt;`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">app_label</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</pre></div>
<p>El uso el previsible:</p>
<div class="highlight"><pre><span></span><span class="n">featured_image</span> <span class="o">=</span> <span class="n">ImageField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="n">generic_upload_to</span><span class="p">,</span>
                            <span class="n">verbose_name</span><span class="o">=</span><span class="s1">&#39;Imagen Destacada (770x490)&#39;</span><span class="p">,</span>
                            <span class="n">max_length</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://pablocaro.es/tag/django.html">django</a>
      <a href="http://pablocaro.es/tag/python.html">python</a>
    </p>
  </div>



  <div class="neighbors">
    <a class="btn float-left" href="http://pablocaro.es/enlaces-en-listado-de-objectos" title="Django: enlaces en listado de objectos">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="http://pablocaro.es/decorador-vista-ajax" title="Decorador vista ajax">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="http://pablocaro.es/instalar-insync-en-opensuse">Instalar InSync en Opensuse</a></li>
      <li><a href="http://pablocaro.es/decorador-vista-ajax">Decorador vista ajax</a></li>
      <li><a href="http://pablocaro.es/enlaces-en-listado-de-objectos">Django: enlaces en listado de objectos</a></li>
      <li><a href="http://pablocaro.es/settings-vars-processor">Settings vars processor</a></li>
      <li><a href="http://pablocaro.es/httpx-cliente-http-moderno-python">HTTPX: Cliente HTTP moderno para Python</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'anotaciones';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>
  &copy; 2025  - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/3.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/3.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " <span style="color:#AA1032;">Anotaciones</span> <span style="color:darkblue;">por</span> <span style="color:black">Pablo Caro</span> ",
  "url" : "http://pablocaro.es",
  "image": "/images/profile.png",
  "description": ""
}
</script>
</body>
</html>